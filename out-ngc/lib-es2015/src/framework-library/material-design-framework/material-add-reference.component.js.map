{"version":3,"sources":["../../../../lib/src/framework-library/material-design-framework/material-add-reference.component.ts"],"names":[],"mappings":"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","file":"material-add-reference.component.js","sourceRoot":"","sourcesContent":["import { Component, DoCheck, Input, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\nexport class MaterialAddReferenceComponent implements OnInit, DoCheck {\r\n  options: any;\r\n  itemCount: number;\r\n  showAddButton: boolean = true;\r\n  previousLayoutIndex: number[];\r\n  previousDataIndex: number[];\r\n   formID: number;\r\n   layoutNode: any;\r\n   layoutIndex: number[];\r\n   dataIndex: number[];\n/**\n * @param {?} jsf\n */\nconstructor(\nprivate jsf: JsonSchemaFormService\r\n  ) { }\n/**\n * @return {?}\n */\nngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.updateControl();\r\n  }\n/**\n * @return {?}\n */\nngDoCheck() {\r\n    if (this.previousLayoutIndex !== this.layoutIndex ||\r\n      this.previousDataIndex !== this.dataIndex\r\n    ) {\r\n      this.updateControl();\r\n    }\r\n  }\n/**\n * @param {?} event\n * @return {?}\n */\naddItem(event) {\r\n    event.preventDefault();\r\n    this.itemCount = this.layoutIndex[this.layoutIndex.length - 1] + 1;\r\n    this.jsf.addItem(this);\r\n    this.updateControl();\r\n  }\n/**\n * @return {?}\n */\nupdateControl() {\r\n    this.itemCount = this.layoutIndex[this.layoutIndex.length - 1];\r\n    this.previousLayoutIndex = this.layoutIndex;\r\n    this.previousDataIndex = this.dataIndex;\r\n    this.showAddButton = this.layoutNode.arrayItem &&\r\n      this.itemCount < (this.options.maxItems || 1000000);\r\n  }\n/**\n * @return {?}\n */\nsetTitle(): string {\r\n    const /** @type {?} */ parent: any = {\r\n      dataIndex: this.dataIndex.slice(0, -1),\r\n      layoutNode: this.jsf.getParentNode(this)\r\n    };\r\n    return this.jsf.setTitle(parent, this.layoutNode, this.itemCount);\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'material-add-reference-widget',\r\n  template: `\r\n    <section [class]=\"options?.htmlClass\" align=\"end\">\r\n      <button md-raised-button *ngIf=\"showAddButton\"\r\n        [color]=\"options?.color || 'accent'\"\r\n        [disabled]=\"options?.readonly\"\r\n        (click)=\"addItem($event)\">\r\n        <span *ngIf=\"options?.icon\" [class]=\"options?.icon\"></span>\r\n        <span *ngIf=\"options?.title\" [innerHTML]=\"setTitle()\"></span>\r\n      </button>\r\n    </section>`,\r\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: JsonSchemaFormService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'formID': [{ type: Input },],\n'layoutNode': [{ type: Input },],\n'layoutIndex': [{ type: Input },],\n'dataIndex': [{ type: Input },],\n};\n}\n\nfunction MaterialAddReferenceComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nMaterialAddReferenceComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMaterialAddReferenceComponent.ctorParameters;\n/** @type {?} */\nMaterialAddReferenceComponent.propDecorators;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.options;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.itemCount;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.showAddButton;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.previousLayoutIndex;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.previousDataIndex;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.formID;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.layoutNode;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.layoutIndex;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.dataIndex;\n/** @type {?} */\nMaterialAddReferenceComponent.prototype.jsf;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}