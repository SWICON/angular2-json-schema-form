{"version":3,"sources":["../../../lib/src/widget-library/section.component.ts"],"names":[],"mappings":"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","file":"section.component.js","sourceRoot":"","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\nexport class SectionComponent implements OnInit {\r\n  options: any;\r\n  expanded: boolean = true;\r\n  containerType: string;\r\n   formID: number;\r\n   layoutNode: any;\r\n   layoutIndex: number[];\r\n   dataIndex: number[];\r\n   data: any;\n/**\n * @param {?} jsf\n */\nconstructor(\nprivate jsf: JsonSchemaFormService\r\n  ) { }\n/**\n * @return {?}\n */\nngOnInit() {\r\n    switch (this.layoutNode.type) {\r\n      case 'fieldset': case 'array': case 'tab': case 'advancedfieldset':\r\n      case 'authfieldset': case 'optionfieldset': case 'selectfieldset':\r\n        this.containerType = 'fieldset';\r\n      break;\r\n      default: // 'div', 'flex', 'section', 'conditional', 'actions', 'tagsinput'\r\n        this.containerType = 'div';\r\n      break;\r\n    }\r\n    this.options = this.layoutNode.options || {};\r\n    this.expanded = !this.options.expandable;\r\n  }\n/**\n * @return {?}\n */\nlegendDisplay(): string {\r\n    return this.options.notitle || !this.options.title ? 'none' : '';\r\n  }\n/**\n * @return {?}\n */\nexpand() {\r\n    if (this.options.expandable) { this.expanded = !this.expanded; }\r\n  }\n/**\n * @param {?} attribute\n * @return {?}\n */\ngetFlexAttribute(attribute: string) {\r\n    const /** @type {?} */ flexActive: boolean =\r\n      this.layoutNode.type === 'flex' ||\r\n      !!this.options.displayFlex ||\r\n      this.options.display === 'flex';\r\n    if (attribute !== 'flex' && !flexActive) { return null; }\r\n    switch (attribute) {\r\n      case 'is-flex':\r\n        return flexActive;\r\n      case 'display':\r\n        return flexActive ? 'flex' : 'initial';\r\n      case 'flex-direction': case 'flex-wrap':\r\n        const /** @type {?} */ index = ['flex-direction', 'flex-wrap'].indexOf(attribute);\r\n        return (this.options['flex-flow'] || '').split(/\\s+/)[index] ||\r\n          this.options[attribute] || ['row', 'nowrap'][index];\r\n      case 'justify-content': case 'align-items': case 'align-content':\r\n        return this.options[attribute];\r\n    }\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'section-widget',\r\n  template: `\r\n    <div *ngIf=\"containerType === 'div'\"\r\n      [class]=\"options?.htmlClass\"\r\n      [class.expandable]=\"options?.expandable && !expanded\"\r\n      [class.expanded]=\"options?.expandable && expanded\">\r\n      <label *ngIf=\"options?.title\"\r\n        [class]=\"options?.labelHtmlClass\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"\r\n        (click)=\"expand()\"></label>\r\n\r\n        <root-widget *ngIf=\"expanded\"\r\n          [formID]=\"formID\"\r\n          [layout]=\"layoutNode.items\"\r\n          [dataIndex]=\"dataIndex\"\r\n          [layoutIndex]=\"layoutIndex\"\r\n          [isOrderable]=\"options?.orderable\"\r\n          [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n          [data]=\"data\"\r\n          [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n          [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n          [style.display]=\"getFlexAttribute('display')\"\r\n          [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n          [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n          [style.justify-content]=\"getFlexAttribute('justify-content')\"\r\n          [style.align-items]=\"getFlexAttribute('align-items')\"\r\n          [style.align-content]=\"getFlexAttribute('align-content')\"></root-widget>\r\n\r\n    </div>\r\n\r\n    <fieldset *ngIf=\"containerType === 'fieldset'\"\r\n      [class]=\"options?.htmlClass\"\r\n      [class.expandable]=\"options?.expandable && !expanded\"\r\n      [class.expanded]=\"options?.expandable && expanded\"\r\n      [disabled]=\"options?.readonly\">\r\n      <legend\r\n        [class]=\"options?.labelHtmlClass\"\r\n        [style.display]=\"legendDisplay()\"\r\n        [innerHTML]=\"options?.title\"\r\n        (click)=\"expand()\"></legend>\r\n\r\n        <root-widget *ngIf=\"expanded\"\r\n          [formID]=\"formID\"\r\n          [layout]=\"layoutNode.items\"\r\n          [dataIndex]=\"dataIndex\"\r\n          [layoutIndex]=\"layoutIndex\"\r\n          [isOrderable]=\"options?.orderable\"\r\n          [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n          [data]=\"data\"\r\n          [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n          [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n          [style.display]=\"getFlexAttribute('display')\"\r\n          [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n          [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n          [style.justify-content]=\"getFlexAttribute('justify-content')\"\r\n          [style.align-items]=\"getFlexAttribute('align-items')\"\r\n          [style.align-content]=\"getFlexAttribute('align-content')\"></root-widget>\r\n\r\n    </fieldset>`,\r\n  styles: [`\r\n    .expandable > legend:before { content: '▶'; padding-right: .3em; }\r\n    .expanded > legend:before { content: '▼'; padding-right: .2em; }\r\n  `],\r\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: JsonSchemaFormService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'formID': [{ type: Input },],\n'layoutNode': [{ type: Input },],\n'layoutIndex': [{ type: Input },],\n'dataIndex': [{ type: Input },],\n'data': [{ type: Input },],\n};\n}\n\nfunction SectionComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nSectionComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSectionComponent.ctorParameters;\n/** @type {?} */\nSectionComponent.propDecorators;\n/** @type {?} */\nSectionComponent.prototype.options;\n/** @type {?} */\nSectionComponent.prototype.expanded;\n/** @type {?} */\nSectionComponent.prototype.containerType;\n/** @type {?} */\nSectionComponent.prototype.formID;\n/** @type {?} */\nSectionComponent.prototype.layoutNode;\n/** @type {?} */\nSectionComponent.prototype.layoutIndex;\n/** @type {?} */\nSectionComponent.prototype.dataIndex;\n/** @type {?} */\nSectionComponent.prototype.data;\n/** @type {?} */\nSectionComponent.prototype.jsf;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}