{"version":3,"sources":["../../../lib/src/widget-library/tabs.component.ts"],"names":[],"mappings":"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","file":"tabs.component.js","sourceRoot":"","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\nimport { JsonPointer } from '../shared/index';\nexport class TabsComponent implements OnInit {\r\n  options: any;\r\n  itemCount: number;\r\n  selectedItem: number = 0;\r\n  showAddTab: boolean = true;\r\n   formID: number;\r\n   layoutNode: any;\r\n   layoutIndex: number[];\r\n   dataIndex: number[];\n/**\n * @param {?} jsf\n */\nconstructor(\nprivate jsf: JsonSchemaFormService\r\n  ) { }\n/**\n * @return {?}\n */\nngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.itemCount = this.layoutNode.items.length - 1;\r\n    this.updateControl();\r\n  }\n/**\n * @param {?} index\n * @return {?}\n */\nselect(index) {\r\n    if (this.layoutNode.items[index].type === '$ref') {\r\n      this.itemCount = this.layoutNode.items.length;\r\n      this.jsf.addItem({\r\n        formID: this.formID,\r\n        layoutNode: this.layoutNode.items[index],\r\n        layoutIndex: this.layoutIndex.concat(index),\r\n        dataIndex: this.dataIndex.concat(index)\r\n      });\r\n      this.updateControl();\r\n    };\r\n    this.selectedItem = index;\r\n  }\n/**\n * @return {?}\n */\nupdateControl() {\r\n    const /** @type {?} */ lastItem = this.layoutNode.items[this.layoutNode.items.length - 1];\r\n    if (lastItem.type === '$ref' &&\r\n      this.itemCount >= (lastItem.options.maxItems || 1000000)\r\n    ) {\r\n      this.showAddTab = false;\r\n    }\r\n  }\n/**\n * @param {?=} item\n * @param {?=} index\n * @return {?}\n */\nsetTitle(item: any = null, index: number = null): string {\r\n    return this.jsf.setTitle(this, item, index);\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'tabs-widget',\r\n  template: `\r\n    <ul\r\n      [class]=\"options?.labelHtmlClass\">\r\n      <li *ngFor=\"let item of layoutNode?.items; let i = index\"\r\n        [class]=\"options?.itemLabelHtmlClass + (selectedItem === i ?\r\n          (' ' + options?.activeClass + ' ' + options?.style?.selected) :\r\n          (' ' + options?.style?.unselected))\"\r\n        role=\"presentation\"\r\n        data-tabs>\r\n        <a *ngIf=\"showAddTab || item.type !== '$ref'\"\r\n          [innerHTML]=\"setTitle(item, i)\"\r\n          (click)=\"select(i)\"></a>\r\n      </li>\r\n    </ul>\r\n\r\n    <div *ngFor=\"let layoutItem of layoutNode?.items; let i = index\"\r\n      [class]=\"options?.htmlClass\">\r\n\r\n      <select-framework-widget *ngIf=\"selectedItem === i\"\r\n        [class]=\"options?.fieldHtmlClass + ' ' + options?.activeClass + ' ' + options?.style?.selected\"\r\n        [dataIndex]=\"layoutNode?.dataType === 'array' ? (dataIndex || []).concat(i) : dataIndex\"\r\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\r\n        [layoutNode]=\"layoutItem\"></select-framework-widget>\r\n\r\n    </div>`,\r\n  styles: [`a { cursor: pointer; }`],\r\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: JsonSchemaFormService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'formID': [{ type: Input },],\n'layoutNode': [{ type: Input },],\n'layoutIndex': [{ type: Input },],\n'dataIndex': [{ type: Input },],\n};\n}\n\nfunction TabsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nTabsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTabsComponent.ctorParameters;\n/** @type {?} */\nTabsComponent.propDecorators;\n/** @type {?} */\nTabsComponent.prototype.options;\n/** @type {?} */\nTabsComponent.prototype.itemCount;\n/** @type {?} */\nTabsComponent.prototype.selectedItem;\n/** @type {?} */\nTabsComponent.prototype.showAddTab;\n/** @type {?} */\nTabsComponent.prototype.formID;\n/** @type {?} */\nTabsComponent.prototype.layoutNode;\n/** @type {?} */\nTabsComponent.prototype.layoutIndex;\n/** @type {?} */\nTabsComponent.prototype.dataIndex;\n/** @type {?} */\nTabsComponent.prototype.jsf;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}